"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var i=[],o=!0,r=!1,a=void 0;try{for(var n,c=t[Symbol.iterator]();!(o=(n=c.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return i}function _arrayWithHoles(t){if(Array.isArray(t))return t}var oriListH8,oriListdH8,oriContainerH8;function setGridHeight(t,e){var i=$("#gbox_".concat(t));i.height(e);var o=e-i.find(".ui-widget-header").height();$("#".concat(t)).jqGrid("setGridHeight",o),$("#".concat(t)).jqGrid("setGridParam","height",o),$("#".concat(t)).parents("div.ui-jqgrid-bdiv").css("max-height","".concat(e,"px"))}function expandChildren(){$(".fa-plus-square-o").each(function(){$(this).trigger("click")})}function collapseChildren(){$(".fa-minus-square-o").each(function(){$(this).trigger("click")})}function showGridPager(t,e){var i=$("#".concat(t)).jqGrid("getGridParam","pager");e?$(i).show():$(i).hide()}function getModelKey(t){var e=_($("#".concat(t)).jqGrid("getGridParam","colModel")).filter(function(t){return t.isRowid}).value()[0];if(e)return e.name}function saveCSV(t,e,i){var o=$("#".concat(t)).jqGrid("getGridParam","selarrrow");o.length||(o=$("#".concat(t)).jqGrid("getDataIDs"));var r,a=_($("#".concat(t)).jqGrid("getGridParam","colNames")).reject(function(t){return _.isEmpty(t)||"<"==t[0]}).value();a=_.difference(a,i),r=navigator.appVersion.includes("Win")?"\r\n":"\n";var n=a.join(";")+r;a=_($("#".concat(t)).jqGrid("getGridParam","colModel")).map("name").reject(function(t){return t.match(/^(cb|subgrid)$/)}).value();var c=!0,d=!1,s=void 0;try{for(var l,p=o[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var u=l.value;if(""!==u&&!u.match("^".concat(t,"ghead"))){for(var f=$("#".concat(t)).jqGrid("getRowData",u),m="",g=0;g<a.length;g++){var h=f[a[g]];a[g].match(/barcode|kodebrg/i)?h="'".concat(h):a[g].match(/margin/i)&&(h=h.replace(/\./,",")),m+=h+=g<a.length-1?";":r}n+=m}}}catch(t){d=!0,s=t}finally{try{c||null==p.return||p.return()}finally{if(d)throw s}}if(e)n=n.replace(/;/g,"\t"),$("#dialog").length||($("body").append('<div id="dialog"><textarea id="copytext" style="width: 350px; height: 200px;"></textarea></div>'),$("#dialog").dialog({autoOpen:!1,buttons:{Ok:function(){$(this).dialog("close")}},width:380,title:$.i18n._("salin_text")})),$("#copytext").text(n),$("#dialog").dialog("open"),$("#copytext").select();else{var b=new Blob([n],{type:"text/csv;charset=utf-8"});saveAs(b,"records.csv")}}function processModel(d){for(var s=d.colDefinitions,l=[],t=function(t){var o={editrules:{},editoptions:{},search:!1,sortable:!_.has(d,"sortable")||d.sortable},e=s[t].split(/\|/),i=e[0].split(/=/),r=i[0],a=i[1];if(a){o.editable=!1,o.editrules.required=!0;for(var n=a.length;n--;){switch(a.charAt(n)){case"#":o.searchoptions={sopt:["cn"]},o.search=!0;break;case"a":o.editable=!0,o.editrules.disableOnEdit=!0;break;case"e":o.editable=!0,o.editrules.disableOnAdd=!0;break;case"g":o.editoptions.defaultValue="";case"r":o.editable=!0,o.editrules.readonly=!0;break;case"*":o.editable=!0;break;case"o":o.editrules.required=!1;break;case"i":o.isRowid=!0}}}switch(o.name=r,e[1]){case"hidden":o.hidden=!0,o.editrules.edithidden=!0,o.width=40;break;default:_.defaults(o,{width:parseInt(e[1]),sorttype:"currency",formatter:"currency",align:"right"}),o.editable&&(o.editoptions.width="".concat(o.width,"px"))}switch(e[2]){case"currency":o.sorttype="currency",o.formatoptions={decimalPlaces:0,prefix:""},o.editrules.number=!0;break;case"numberc":o.align="center";case"number":o.sorttype="number",o.formatoptions={decimalPlaces:0,prefix:""},o.editrules.number=!0;break;case"number1c":o.align="center";case"number1":o.sorttype="number",o.formatoptions={decimalPlaces:1,prefix:""},o.editrules.number=!0;break;case"number2c":o.align="center";case"number2":o.sorttype="number",o.formatoptions={decimalPlaces:2,prefix:""},o.editrules.number=!0;break;case"percentagec":o.align="center";case"percentage":o.sorttype="number",o.formatoptions={decimalPlaces:2,prefix:"",suffix:"%"},o.formoptions={elmsuffix:"%"};break;case"percentage0":o.sorttype="number",o.formatoptions={decimalPlaces:0,prefix:"",suffix:"%"},o.formoptions={elmsuffix:"%"};break;case"percentage1":o.sorttype="number",o.formatoptions={decimalPlaces:1,prefix:"",suffix:"%"},o.formoptions={elmsuffix:"%"};break;case"textr":o.sorttype="text",o.formatter=void 0,parseInt(e[3])&&(o.editoptions={size:e[3]});break;case"textc":o.sorttype="text",o.formatter=void 0,o.align="center",parseInt(e[3])&&(o.editoptions={size:e[3]});break;case"date":o.sorttype="date",o.formatter="date",o.formatoptions={newformat:"Y-m-d"},o.align="center",o.editoptions={defaultValue:function(){return moment().format("YYYY-MM-DD")},size:10};break;case"time":o.sorttype="date",o.formatter="date",o.formatoptions={newformat:"g:i",parseRe:"[0-5][0-9]:[0-5][0-9]"},o.align="center",o.editoptions={defaultValue:function(){return moment().format("HH:mm")},size:5},o.fftype="time";break;case"check":o.sorttype="text",o.formatter="checkbox",o.align="center",o.edittype="checkbox",o.editoptions={value:"1:0"};break;case"action":o.template="actions",o.formatter=void 0,o.align="center";break;case"link":o.sorttype="text",o.prefix=e[3],o.formatter=function(t,e,i){return t?'<a href="'.concat(t,'" target="_blank">').concat(e.colModel.prefix||"Link","</a>"):""},o.unformat=function(t,e,i){return $(i).find("a").attr("href")||""},o.align="center";break;case"youtube":o.sorttype="text",o.formatter=function(t,e,i){return t?'<a href="https://www.youtube.com/embed/'.concat(t,'?autoplay=1&playsinline=1&rel=0&fs=0&modestbranding=1&showinfo=0" target="_blank"><img src="https://img.youtube.com/vi/').concat(t,'/2.jpg"></a>'):""},o.unformat=function(t,e,i){return $(i).find("img").attr("src").replace(/.*\//,"")||""},o.align="center",o.fftype="image";break;case"image":o.sorttype="text",o.baseUrl=e[3],o.formatter=function(t,e,i){return t?'<a href="'.concat(e.colModel.baseUrl,"/").concat(t,'" class="zoom-image"><img src="').concat(e.colModel.baseUrl,"/").concat(t,'" width="').concat(o.width,'"></a>'):""},o.unformat=function(t,e,i){return $(i).find("img").attr("src").replace(/.*\//,"")||""},o.align="center",o.fftype="image";break;case"email":o.sorttype="text",o.formatter="email";break;default:o.sorttype="text",o.formatter=void 0,o.align="left"}if(e[3]){if(e[2].match(/text/)&&parseInt(e[3])){var c=e[3].split(/,/);c[1]?(o.edittype="textarea",o.editoptions={cols:c[0],rows:c[1]}):o.editoptions={size:c[0]}}"frozen"==e[3]?o.frozen=!0:["sum","avg","count","min","max"].includes(e[3])&&(o.summaryType=e[3])}e[4]&&(o.summaryTpl=e[4]),l.push(o)},e=0;e<s.length;e++)t(e);return l}function setupTree(t){_.defaults(t,{treeGrid:!0,treeGridModel:"adjacency",treedatatype:"json",datatype:"json",loadonce:!0,mtype:"POST",maxHeight:450,iconSet:"fontAwesome",treeIcons:{plus:"fa-caret-right",minus:"fa-caret-down",leaf:"fa-circle-o"},loadComplete:function(){t.expandOnLoad&&$(".tree-plus").each(function(){$(this).trigger("click")})}}),t.colNames=t.colNames.split(/\|/),t.colModel=processModel(t),$("#".concat(t.gridId)).jqGrid(t)}function setupGrouping(t){var e,i=t.gridId,o=t.groupCol;e=o instanceof Array?o:[o],$("#".concat(i)).jqGrid("setGridParam",{grouping:!0,groupingView:{groupField:e,groupColumnShow:$.map(e,function(t){return!1}),groupText:$.map(e,function(){if(!0===t.multiselect)return'{0}&nbsp;&nbsp;<input type="checkbox" class="grouping">'}),groupCollapse:!0,groupOrder:$.map(e,function(t){return"asc"}),groupSummary:$.map(e,function(t){return!0}),showSummaryOnHide:!0,groupDataSorted:!0},gridComplete:function(){$(".grouping").on("change",function(){var t=$(this).parent().parent();$(this).is(":checked")?t.find(".ui-icon-circlesmall-plus").click():t.find(".ui-icon-circlesmall-minus").click(),t.nextUntil(".jqfoot").each(function(){$("#".concat(i)).jqGrid("setSelection",$(this).attr("id"))})})}})}function createFooterSummaryFunction(opt){var gridId=opt.gridId,cols=opt.footerSummary;if(!cols)return function(){return 0};for(var funcText="(function() { \n",i=0;i<cols.length;i++){var split=cols[i].split("|");split[1].match(/^(avg|sum)$/)&&(funcText+="  var ".concat(split[1]).concat(split[0]," = $('#").concat(gridId,"').jqGrid('getCol', '").concat(split[0],"', false, '").concat(split[1],"');\n"))}funcText+="  $('#".concat(gridId,"').jqGrid('footerData', 'set', {\n");for(var _i=0;_i<cols.length;_i++){var split=cols[_i].split("|");split[1].match(/^(avg|sum)$/)?funcText+="  ".concat(split[0],": ").concat(split[1]).concat(split[0],",\n"):funcText+="  ".concat(split[0],": ").concat(split[1],",\n")}return funcText+="  });\n",funcText+="})\n",eval(funcText)}function autoResize(r){$("#".concat(r)).jqGrid("autoResizeAllColumns");var a=$("#".concat(r)),n=a.jqGrid("getGridParam");_(n.colModel).filter(function(t){return t.autoResizable&&t.summaryType}).each(function(t){t.width;var e=n.iColByName[t.name],i=a.jqGrid("getAutoResizableWidth",e),o=$("#gview_".concat(r," .footrow [aria-describedby=").concat(r,"_").concat(t.name,"] span")).outerWidth();i<o&&a.jqGrid("setColWidth",e,o+5)})}function setupGridI(opt){$("#".concat(opt.gridId)).jqGrid("GridUnload");var options={autowidth:opt.autowidth,colNames:opt.colNames.split(/\|/),colModel:processModel(opt),cmTemplate:opt.autoresize?{autoResizable:!0}:{},datatype:"local",mtype:"POST",pager:"#".concat(opt.pagerId),rowNum:1e5,viewrecords:!0,gridview:!1,autoencode:!0,scrollerbar:!0,height:opt.height||opt.maxHeight||"auto",shrinkToFit:opt.shrinkToFit,loadonce:!0,caption:opt.caption,footerrow:!$.isEmptyObject(opt.footerSummary),multiselect:opt.multiselect,sortable:opt.sortable,iconSet:"fontAwesome",loadComplete:function(){createFooterSummaryFunction(opt)(),opt.expandOnLoad&&expandChildren(),opt.autoresize&&autoResize(opt.gridId);var t=parseInt($("#".concat(opt.gridId)).jqGrid("getGridParam","width")),e="auto"==opt.width?opt.minWidth:opt.width||opt.minWidth;if(t<e&&$(this).jqGrid("setGridWidth",e),opt.width&&t>opt.width&&setTimeout(function(){$("#".concat(opt.gridId)).jqGrid("setGridWidth",opt.width)},100),_.has(opt,"masterDetail.gridId")){var i=$("#gbox_".concat(opt.gridId)),o=i.height(),r=i.find(".ui-widget-header").height();oriListH8=o-r,oriListdH8=$("#".concat(opt.masterDetail.gridId)).jqGrid("getGridParam","height"),oriContainerH8=$(".module_content").height(),showGridPager(opt.masterDetail.gridId,!1)}_.isFunction(opt.afterLoadFunc)&&opt.afterLoadFunc(),t&&!opt.paging&&$("#gbox_".concat(opt.gridId," .ui-jqgrid-bdiv")).css("width","".concat($("#gbox_"+opt.gridId).width()+18,"px")),_($("#".concat(opt.gridId)).jqGrid("getGridParam","colModel")).map(function(t){return"image"==t.fftype}).filter(function(t){return t}).value().length&&$(".zoom-image").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0},zoom:{enabled:!0,duration:300}}),960<$(".module_content").width()&&$("#gutter").css("position","absolute").css("left","960px").text("▼"),$("#errmsg").text("")},onHeaderClick:function(t){_.has(opt,"masterDetail.gridId")&&($(".module_content").height(oriContainerH8),setGridHeight(opt.masterDetail.gridId,"hidden"==t?oriListdH8+oriListH8:oriListdH8))},loadError:function(t,e,i){$("#errmsg").html("Type: ".concat(e,"<br>Response: ").concat(t.status," ").concat(t.statusText))}},fclone;if(opt.fieldProperties)for(var field in opt.fieldProperties)for(var i in options.colModel)if(options.colModel[i].name==field){$.extend(!0,options.colModel[i],opt.fieldProperties[field]);break}if(opt.cellEditing&&($.extend(options,{cellEdit:!0,afterSubmitCell:function(t,e){var i=$.parseJSON(t.responseText);return i.success?[!0,""]:[!1,i.message]}}),opt.cellEditing.editurl?(options.cellurl=opt.cellEditing.editurl,options.cellsubmit="remote"):$.extend(options,{cellsubmit:"clientArray",afterSaveCell:opt.cellEditing.afterSaveCell,datatype:"local"}),opt.cellEditing.fields&&$.each(opt.cellEditing.fields,function(t,e){for(var i in options.colModel){if(options.colModel[i].editrules.disableOnEdit)return void(options.colModel[i].editable=!1);if(options.colModel[i].name==e)return void(options.colModel[i].editable=!0)}})),opt.inlineEditing){var aftersavefunc=function(t,e){var i=$.parseJSON(e.responseText);return!!i.success||(alert($.i18n._("KESALAHAN",i.message)),!1)};$("#".concat(opt.gridId)).jqGrid("navSeparatorAdd",pager,{sepclass:"ui-separator"}),$("#".concat(opt.gridId)).jqGrid("inlineNav",pager,{editParams:{aftersavefunc:aftersavefunc,oneditfunc:function(){var t=$("#".concat(opt.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){e.name.match(/^(cb|subgrid)$/)||(e.editrules.disableOnEdit||e.editrules.readonly)&&$("[name='".concat(e.name,"'].editable")).prop("disabled",!0).addClass("ui-state-disabled")})}},addParams:{addRowParams:{aftersavefunc:aftersavefunc,oneditfunc:function(){var t=$("#".concat(opt.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){e.name.match(/^(cb|subgrid)$/)||(e.editrules.disableOnAdd||e.editrules.readonly)&&$("[name='".concat(e.name,"'].editable")).prop("disabled",!0).addClass("ui-state-disabled")})}}}})}if(opt.formEditing&&($.extend(options,{height:opt.maxHeight,autowidth:!1,rowNum:opt.paging?20:1e4,viewrecords:!0,datatype:"json",multiselect:opt.formEditing.multiselect||!1,gridview:!0}),opt.formEditing.url?$.extend(options,{url:opt.formEditing.url,editurl:opt.formEditing.editurl}):options.datatype="local",opt.formEditing.formOptions)){if(opt.formEditing.formOptions.fields)for(var _field in opt.formEditing.formOptions.fields)for(var _i3 in options.colModel)if(options.colModel[_i3].name==_field){$.extend(!0,options.colModel[_i3],opt.formEditing.formOptions.fields[_field]);break}if(opt.formEditing.formOptions.positions){for(var poss=opt.formEditing.formOptions.positions.split(/\|/),fullRowFields=[],_i4=0;_i4<poss.length;_i4++){var fopts=poss[_i4].split(/,/),value={formoptions:{rowpos:parseInt(fopts[1]),colpos:parseInt(fopts[2])||0}};for(var j in options.colModel)if(options.colModel[j].name==fopts[0]){$.extend(!0,options.colModel[j],value),fopts[2]||fullRowFields.push(fopts[0]);break}}fullRowFields.length&&(opt.formEditing.formOptions.fullRowFields=fullRowFields)}}(opt.paging?$.extend(options,{scroll:1,loadonce:!1}):$.extend(options,{scroll:!1,loadonce:!0}),opt.otherOptions&&$.extend(options,opt.otherOptions),opt.masterDetail)&&(options.onSelectRow&&(fclone=options.onSelectRow.bind({})),options.onSelectRow=function(ids){var url=eval(opt.masterDetail.url);if($("#".concat(opt.masterDetail.gridId)).jqGrid("setGridParam",{url:url,datatype:"json"}).trigger("reloadGrid"),opt.masterDetail.title){var data=$(this).jqGrid("getRowData",ids);$("#".concat(opt.masterDetail.gridId)).jqGrid("setCaption",eval(opt.masterDetail.title))}setTimeout(function(){$("#".concat(opt.gridId)).jqGrid("getGridParam","selrow")||$("#".concat(opt.gridId)).jqGrid("setSelection",ids,!1)},100),showGridPager(opt.masterDetail.gridId,!0),fclone&&fclone(ids)});options.shrinkToFit&&(options.width=opt.width||940),opt.colDefinitions.join("#").match(/kodebrg|barang|barcode/)&&(options.onRightClickRow=function(t,e,i,o){open_info(t)}),opt.hasSubgrid&&(options.subGrid=!0,options.subGridOptions={plusicon:"fa-caret-right",minusicon:"fa-caret-down",openicon:"fa-angle-double-up",reloadOnExpand:!1,selectOnExpand:!1});var grid=$("#".concat(opt.gridId));grid.jqGrid(options),opt.colDefinitions.join(":").match(/#/)&&grid.jqGrid("filterToolbar",{stringResult:!0,searchOnEnter:!0,defaultSearch:"cn"}),grid.parents("div.ui-jqgrid-bdiv").css("max-height","".concat(opt.maxHeight,"px")),grid.jqGrid("gridResize",{stop:function(t,e){var i=$("#gbox_".concat(opt.gridId)),o=i.height()-i.find(".ui-widget-header").height();grid.jqGrid("setGridParam","height",o),grid.parents("div.ui-jqgrid-bdiv").css("max-height","".concat(o,"px"))}}),grid.on("press",function(t){grid.contextmenu(t)})}function PrintGrid(t){var i=t.gid;$("#prt-container").empty();var e=(print_header||'<img src="'.concat(company_logo,'" style="height: 52px; float: left; padding: 0 10px;">\n      <h3>').concat(company_name,"<br>\n\t\t").concat(company_address,"\n      <br>Telp/Fax ").concat(company_phone,"</h3>"))+'<hr>\n\t<h2 style="text-align: center;">'.concat($("#"+i).jqGrid("getGridParam","caption"),"</h2>");_.defaults(t,{header:e}),$("#prt-container").append(t.header),$("#gview_".concat(i)).clone().appendTo("#prt-container").css({"page-break-after":"auto"}),t.footer&&$("#prt-container").append(t.footer),$("#prt-container table.ui-jqgrid-htable, #prt-container table.ui-jqgrid-btable").css("width","958px"),$("tr.jqgfirstrow").css("width","958px"),$("#prt-container td[aria-describedby=".concat(i,"_cb]")).css("visibility","hidden"),$("#prt-container #".concat(i,"_cb")).css("visibility","hidden"),$("#prt-container .grouping").css("visibility","hidden"),$("#prt-container .ui-jqgrid-ftable tr").removeClass("footrow footrow-ltr").appendTo($("#prt-container table:nth-child(2)"));var o=$("#".concat(i)).jqGrid("getGridParam","selarrrow");if(o.length){ids=$("#".concat(i)).jqGrid("getDataIDs");for(var r=0;r<ids.length;r++)$.inArray(ids[r],o)<0&&$("#prt-container #".concat(ids[r])).remove();$("#prt-container .".concat(i,"ghead_0 + .jqfoot")).each(function(t){$(this).next().remove(),$(this).remove()}),$("#prt-container .jqfoot").remove(),$("#prt-container .jqgroup:last").remove()}if($("#prt-container div").remove(".ui-jqgrid-toppager,.ui-jqgrid-titlebar,.ui-jqgrid-pager"),t.excludeColumns){var a=$("#prt-container .jqgfirstrow td"),n=_($("#".concat(i)).jqGrid("getGridParam").colModel).map("name").value(),c=function(e){$("#prt-container #".concat(i,"_").concat(e)).hide(),$("#prt-container td[aria-describedby=".concat(i,"_").concat(e,"]")).hide();var t=_(n).findIndex(function(t){return t==e});$(a[t]).hide()},d=!0,s=!1,l=void 0;try{for(var p,u=t.excludeColumns[Symbol.iterator]();!(d=(p=u.next()).done);d=!0){c(p.value)}}catch(t){s=!0,l=t}finally{try{d||null==u.return||u.return()}finally{if(s)throw l}}}$("#prt-container td").css("padding","0 2px"),$('#prt-container tr[jqfootlevel="0"]').css("background","#ddd"),$('#prt-container tr[jqfootlevel="1"]').css("background","#eee"),$("#prt-container tr:last").css("border-top","solid 1px black").css("border-bottom","solid 1px black"),$("#prt-container [id^=".concat(i,"ghead_0]")).css("font-weight","bold"),$("#prt-container [id^=".concat(i,"ghead_1]")).css("font-style","italic"),$("#prt-container [id^=".concat(i,"ghead_2]")).css("text-decoration","underline"),$("#prt-container").print(),$("#prt-container").empty()}function setPrintGrid(t){var e=t.gridId,i=t.pagerId;$("#".concat(e)).jqGrid("navSeparatorAdd","#".concat(i),{sepclass:"ui-separator"}),$("#".concat(e)).jqGrid("navButtonAdd","#".concat(i),{id:"pager_print",title:$.i18n._("CETAK"),caption:$.i18n._("CETAK"),position:"last",buttonicon:"fa-print",iconsOverText:!0,onClickButton:function(){PrintGrid($.extend({gid:e},t.printOption))}})}function setupPager(n){var t="#".concat(n.pagerId),e={iconsOverText:!0,edit:!0,add:!0,del:!0,search:!1,refresh:!0,view:!1,excel:!1,pdf:!1,csv:!0,addtext:$.i18n._("BARU"),edittext:$.i18n._("EDIT"),deltext:$.i18n._("HAPUS"),searchtext:$.i18n._("CARI"),refreshtext:$.i18n._("REFRESH")},i={},o={},r={};if(n.inlineEditing){var a=function(t,e){var i=$.parseJSON(e.responseText);return!!i.success||(alert($.i18n._("KESALAHAN",i.message)),!1)};$("#".concat(n.gridId)).jqGrid("navSeparatorAdd",t,{sepclass:"ui-separator"}),$("#".concat(n.gridId)).jqGrid("inlineNav",t,{editParams:{aftersavefunc:a,oneditfunc:function(){var t=$("#".concat(n.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){e.name.match(/^(cb|subgrid)$/)||(e.editrules.disableOnEdit||e.editrules.readonly)&&$("[name='".concat(e.name,"'].editable")).prop("disabled",!0).addClass("ui-state-disabled")})}},addParams:{addRowParams:{aftersavefunc:a,oneditfunc:function(){var t=$("#".concat(n.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){e.name.match(/^(cb|subgrid)$/)||(e.editrules.disableOnAdd||e.editrules.readonly)&&$("[name='".concat(e.name,"'].editable")).prop("disabled",!0).addClass("ui-state-disabled")})}}}})}if(n.formEditing){var c=function(t,e,i){switch(i=i||0,e){case"currency":$(t).autoNumeric("init",{aSep:".",aDec:",",aSign:$.i18n._("CURR_PREF"),mDec:"0"}),$(t).autoNumeric("set",$(t).val()||0),$(t).css("text-align","right");break;case"number":$(t).autoNumeric("init",{aSep:".",aDec:",",mDec:i}),$(t).autoNumeric("set",$(t).val()||0),$(t).css("text-align","right");break;case"date":$(t).datepicker({dateFormat:"yy-mm-dd",showOn:"button"});break;case"time":$(t).timepicker({timeFormat:"H:i",showOn:["click"]})}},d=function(t,e){var i,o=$.parseJSON(t.responseText);if(o.success){if("add"==e.oper){var r,a=getModelKey(n.gridId);a&&(r=e[a]),i=[!0,"",r]}else i=[!0,""];return _.isFunction(n.formEditing.formOptions.afterSubmit)&&n.formEditing.formOptions.afterSubmit(t,e),i}return standard_dialog({title:$.i18n._("KESALAHAN0"),text:o.message}),[!1,o.message]},s=function(t){$(t).prop("disabled",!0).closest(".DataTD").prev(".CaptionTD").prop("disabled",!0).addClass("ui-state-disabled")};_.defaults(n.formEditing.formOptions,{width:400,closeAfterAdd:!1,closeAfterEdit:!0}),$.extend(e,{edit:!0,add:!0,del:!!n.formEditing.deleteMenu});var l=function(t){$(t).find("input[type='text']:visible:enabled:first").focus(),_.isFunction(n.formEditing.formOptions.afterShowForm)&&n.formEditing.formOptions.afterShowForm(),n.formEditing.formOptions.fullRowFields&&n.formEditing.formOptions.fullRowFields.forEach(function(t){var e=$("#tr_".concat(t," td")).length;$("#tr_".concat(t," td:gt(1)")).remove(),$("#tr_".concat(t," td:last-child")).attr("colspan","".concat(e-1))}),n.formEditing.formOptions.height&&($("#editmodlist").css("max-height","".concat(n.formEditing.formOptions.height,"px")).css("overflow-y","scroll"),$(".jqResize").hide())},p=function(){_.isFunction(n.formEditing.formOptions.onClose)&&n.formEditing.formOptions.onClose()};i={width:n.formEditing.formOptions.width,recreateForm:!0,afterSubmit:d,afterComplete:function(t,e,i){_.isFunction(n.formEditing.formOptions.afterCompleteFuncEdit)&&n.formEditing.formOptions.afterCompleteFuncEdit(t,e,i)},afterShowForm:l,reloadAfterSubmit:!1,closeAfterEdit:n.formEditing.formOptions.closeAfterEdit,beforeSubmit:n.formEditing.formOptions.beforeSubmit,onclickSubmit:n.formEditing.onclickSubmit,editData:n.formEditing.editData,onClose:p},o={width:n.formEditing.formOptions.width,recreateForm:!0,afterSubmit:d,afterComplete:function(t,e,i){if(_.isFunction(n.formEditing.formOptions.afterCompleteFuncAdd))n.formEditing.formOptions.afterCompleteFuncAdd(t,e,i);else{var o=e[getModelKey(n.gridId)];if("local"==$("#".concat(n.gridId)).jqGrid("getGridParam","datatype")){var r={};_($("#".concat(n.gridId)).jqGrid("getGridParam","colModel")).each(function(t){r[t.name]=e[t.name]}),$("#".concat(n.gridId)).jqGrid("addRowData",o,r)}$("#".concat(n.gridId)).jqGrid("setSelection",o)}},afterShowForm:l,onclickSubmit:n.formEditing.onclickSubmit,closeAfterAdd:n.formEditing.formOptions.closeAfterAdd,beforeSubmit:n.formEditing.formOptions.beforeSubmit,editData:n.formEditing.addData,onClose:p};var u=function(e,i,t){return _($(this).jqGrid("getGridParam","colModel")).filter(function(t){return t.editable&&t.sorttype.match(/currency|number/)}).map(function(t){return t.name}).each(function(t){e[t]=$(i).find("#".concat(t)).autoNumeric("get")}),_.isFunction(n.formEditing.formOptions.beforeCheckValues)&&(e=n.formEditing.formOptions.beforeCheckValues(e)),e};i.beforeShowForm=function(o){var t=$("#".concat(n.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){if(!e.name.match(/^(cb|subgrid)$/)){var i=o.find("#".concat(e.name));(e.editrules.disableOnEdit||e.editrules.readonly)&&s(i),c(i,e.fftype||e.sorttype,_.get(e,"formatoptions.decimalPlaces",0))}})},i.beforeCheckValues=u,o.beforeShowForm=function(o){var t=$("#".concat(n.gridId)).jqGrid("getGridParam","colModel");$.each(t,function(t,e){if(!e.name.match(/^(cb|subgrid)$/)){var i=o.find("#".concat(e.name));(e.editrules.disableOnAdd||e.editrules.readonly)&&s(i),c(i,e.sorttype,_.get(e,"formatoptions.decimalPlaces",0))}})},o.beforeCheckValues=u,r={afterSubmit:d,afterComplete:function(t,e,i){$("#".concat(n.gridId)).jqGrid("getGridParam","colModel");if(_.has(n,"masterDetail.gridId")){showGridPager(n.masterDetail.gridId,!1),$("#".concat(n.masterDetail.gridId)).jqGrid("clearGridData").jqGrid("setCaption","(Kosong)");var o=$("#".concat(n.masterDetail.gridId)).jqGrid("footerData");if(o){for(var r in o)o[r]="";$("#".concat(n.masterDetail.gridId)).jqGrid("footerData","set",o)}}_.isFunction(n.formEditing.formOptions.afterCompleteFuncDel)&&n.formEditing.formOptions.afterCompleteFuncDel(t,e,i)},onclickSubmit:n.formEditing.onclickSubmit,delData:n.formEditing.delData,onClose:p}}else $.extend(e,{edit:!1,add:!1,del:!1});$("#".concat(n.gridId)).jqGrid("navGrid",t,e,i,o,r),n.formEditing||($("#".concat(n.gridId)).jqGrid("navSeparatorAdd",t,{sepclass:"ui-separator"}),$.isEmptyObject(n.groupCol)||($("#".concat(n.gridId)).jqGrid("navButtonAdd",t,{id:"pager_expand",title:$.i18n._("BUKA_SG"),caption:$.i18n._("BUKA"),buttonicon:"fa-folder-open-o",iconsOverText:!0,onClickButton:function(t){expandChildren(),$("#".concat(n.gridId)).jqGrid("getGridParam","cmTemplate").autoResizable&&autoResize(n.gridId)}}),$("#".concat(n.gridId)).jqGrid("navButtonAdd",t,{id:"pager_collapse",title:$.i18n._("TUTUP_SG"),caption:$.i18n._("TUTUP"),iconsOverText:!0,buttonicon:"fa-folder-o",onClickButton:function(t){collapseChildren()}})),$("#".concat(n.gridId)).jqGrid("navButtonAdd",t,{id:"pager_csv",title:$.i18n._("SIMPAN_CSV"),caption:$.i18n._("SIMPAN"),iconsOverText:!0,buttonicon:"fa-save",onClickButton:function(t){saveCSV(n.gridId)}}),$("#".concat(n.gridId)).jqGrid("navButtonAdd",t,{id:"pager_copy",caption:$.i18n._("SALIN"),iconsOverText:!0,title:$.i18n._("SALIN_CB"),buttonicon:"fa-clipboard",onClickButton:function(t){saveCSV(n.gridId,!0)}})),$("".concat(t,"_center")).hide()}function setupGrid(t){_.defaults(t,{autoresize:!t.width&&!t.formEditing,multiselect:!0,shrinkToFit:!0,maxHeight:450,minWidth:700,paging:_.has(t,"formEditing"),sortable:!0,autowidth:!1}),t.autoresize&&(t.width="auto"),setupGridI(t),t.groupCol&&setupGrouping(t),t.pagerId&&$("#".concat(t.pagerId))&&setupPager(t),!t.paging&&$("#".concat(t.pagerId))&&setPrintGrid(t),$("#errmsg").length?$("#errmsg").text(""):$('<div id="errmsg" class="alert_error"></div>').insertAfter($("#pager"))}function setupSubgrid(opt){_.defaults(opt,{exclusiveShow:!0}),$("#".concat(opt.gridId)).jqGrid("setGridParam",{subGridRowExpanded:function subGridRowExpanded(subgridId,rowid){var colNames,data=$("#".concat(opt.gridId)).jqGrid("getRowData",rowid);colNames="function"==typeof opt.colNames?opt.colNames().split(/\|/):opt.colNames.split(/\|/);var subgridTableId="".concat(subgridId,"_t"),eurl=_.isFunction(opt.url)?opt.url(rowid):eval(opt.url),optSub={gridId:subgridTableId,footerSummary:opt.footerSummary};opt.exclusiveShow&&$("#".concat(opt.gridId," tr:has(.sgexpanded)")).each(function(){var t=$(this).attr("id");t!=rowid&&$("#".concat(opt.gridId)).jqGrid("collapseSubGridRow",t)});var options={cmTemplate:{autoResizable:!opt.width},autoresizeOnLoad:!opt.width,datatype:"json",loadonce:!0,mtype:"POST",url:eurl,colNames:colNames,colModel:processModel(opt),height:"100%",autowidth:!0,shrinkToFit:!1,rowNum:1e4,idPrefix:"s_".concat(rowid,"_"),loadComplete:createFooterSummaryFunction(optSub),footerrow:!$.isEmptyObject(optSub.footerSummary)};if(opt.otherOptions&&$.extend(options,opt.otherOptions),_.map(options.colModel,"name").join("#").match(/kodebrg|barang|barcode/)&&(options.onRightClickRow=function(t,e,i,o){var r=$(this).jqGrid("getRowData",t),a=r.kodebrg||r.barcode||r.barang;open_info(a)}),$("#".concat(subgridId)).html('<table id="'.concat(subgridTableId,'"></table>')),$("#".concat(subgridTableId)).jqGrid(options),options.pager){var _pager=$("#".concat(subgridTableId)).jqGrid("getGridParam","pager"),pagerOptions={iconsOverText:!0,edit:!1,add:!1,del:!1,search:!1,refresh:!0,view:!1,excel:!1,pdf:!1,csv:!0,addtext:$.i18n._("BARU"),edittext:$.i18n._("EDIT"),deltext:$.i18n._("HAPUS"),searchtext:$.i18n._("CARI"),refreshtext:$.i18n._("REFRESH")};$("#".concat(subgridTableId)).jqGrid("navGrid",_pager,pagerOptions),$("".concat(_pager,"_center")).hide()}}})}function standard_dialog(t){$("#dialog").length||(_.defaults(t,{width:380,height:380,buttons:{Ok:function(){$(this).dialog("close")}}}),$("body").append('<div id="dialog">\n  <div id="dialog_content" style="width: '.concat(t.width,"px; height: ").concat(t.height,'px; "></div>\n  </div>')),$("#dialog").dialog({autoOpen:!1,buttons:t.buttons,width:t.width+30,height:t.height+110,title:t.title}),t.text&&(t.text=t.text.replace(/\n/g,"<br>")),$("#dialog_content").html(t.text),$("#dialog").on("dialogclose",function(t,e){$(this).remove()}),$("#dialog").dialog("open"))}function open_url_modal(t){if(!$("#".concat(t.window_id)).length){_.defaults(t,{window_id:"modal_window",height:580,width:840});var e='<iframe id="'.concat(t.window_id,'" style="overflow: hidden; border: 0px; width: ').concat(t.width,"px; height: ").concat(t.height,'px" src="').concat(t.url,'"></iframe>');$("<div></div>").html(e).dialog({autoOpen:!1,modal:!0,height:"auto",width:"auto",title:t.title,close:function(t,e){$(this).dialog("destroy")}}).dialog("open")}}function select_popup(e){$("#dialog_sp").length?$("#dialog_sp").empty():$("body").append('<div id="dialog_sp">\n    <select name="op" id="op">\n      <option selected>LIKE</option>\n      <option>FTS</option>\n      <option>&gt;</option>\n      <option>&lt;</option>\n      <option>=</option>\n    </select>\n    <input type="text" id="keyword">\n    <input type="button" value="Cari" id="search">\n    <br><br>\n    <table id="list_sp" width="100%"></table> \n    </div>'),$(document).on("click","#search",function(){var t="".concat(base_url,"/ajax/reference/table-search?keyword=").concat($("#keyword").val(),"&table=").concat(e.table,"&fields=").concat(e.fields.join(","),"&searchFields=").concat(e.searchFields.join(","),"&op=").concat($("#op :selected").val());$("#list_sp").jqGrid("setGridParam",{datatype:"json",url:t}).trigger("reloadGrid")}).on("keydown","#keyword",function(t){13==t.which&&($("#search").click(),$(this).blur())}).on("click","#keyword",function(t){$("#keyword").val("")}),_.defaults(e,{width:500,height:400}),e.searchFields||(e.searchFields=e.fields),setupGrid($.extend(!0,e.gridOpt,{gridId:"list_sp",width:"".concat(e.width-50,"px"),maxHeight:"".concat(e.height-175,"px"),height:"".concat(e.height-175,"px")})),$("#dialog_sp").dialog({buttons:{Pilih:function(){var t;t=e.gridOpt.multiselect?$("#list_sp").jqGrid("getGridParam","selarrrow"):$("#list_sp").jqGrid("getGridParam","selrow"),e.selected(t),$("#dialog_sp").dialog("close")}},width:e.width,height:e.height,title:"Cari"}),$("#keyword").focus()}function romanize(t){if(!+t)return!1;for(var e=String(+t).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],o="",r=3;r--;)o=(i[+e.pop()+10*r]||"")+o;return Array(+e.join("")+1).join("M")+o}function weekRangeString(t,e){var i=moment().year(e).isoWeek(t).isoWeekday(1),o=i.clone().add(1,"w");return"".concat(i.format("YYYY-MM-DD")," - ").concat(o.format("YYYY-MM-DD"))}function getWeek(t){return moment(t).week()}function getUrlParams(){for(var t,e=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=function(t){return decodeURIComponent(t.replace(e," "))},r=window.location.search.substring(1),a={};t=i.exec(r);)a[o(t[1])]=o(t[2]);return a}function hasUrlParams(){return"?"==window.location.search[0]}function rp_format(t){var e=$.extend({},$.jgrid.formatter.currency,{decimalPlaces:0});return e.prefix+$.fmatter.NumberFormat(t,e)}function percent_format(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=$.extend({},$.jgrid.formatter.number,{decimalPlaces:e});return"".concat($.fmatter.NumberFormat(t,i),"%")}function number_format(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=$.extend({},$.jgrid.formatter.number,{decimalPlaces:e});return $.fmatter.NumberFormat(t,i)}function arrayBulan(t){var e=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],i=moment(),o=i.month();t.withCurrent&&o++;var r=i.year();if(o||r--,t.tahun==r&&o<12){var a=e.splice(0,o);e=e.concat(a)}return e}function namaBulan(t){}function selectOptions(t,e){return{edittype:"select",editoptions:{value:t,defaultValue:e},formatter:"select"}}function putFormSeparatorAfter(t,e){$('<tr class="FormData"><td class="CaptionTD ui-widget-content" colspan="2">\n<hr/><div style="padding:3px" class="ui-widget-header ui-corner-all">\n<b>'.concat(e,"</b></div></td></tr>")).insertAfter(t)}function selRowId(t){return $("#".concat(t)).jqGrid("getGridParam","selrow")}function selRowData(t,e){var i=$("#".concat(t)).jqGrid("getGridParam","selrow"),o=$("#".concat(t)).jqGrid("getRowData",i);return e?o[e]:o}function alert_dialog(t){$("#alert").length||(_.defaults(t,{width:380,height:60,title:"Attention!",buttons:{Ok:function(){$(this).dialog("close")}}}),$("body").append('<div id="alert"><div id="alert_content" style="width: '.concat(t.width,"px; height: ").concat(t.height,'px; "></div></div>')),$("#alert").dialog({autoOpen:!1,buttons:t.buttons,width:t.width+30,height:t.height+110,title:t.title}),t.text&&(t.text=t.text.replace(/\n/g,"<br>")),$("#alert_content").html(t.text),$("#alert").on("dialogclose",function(t,e){$(this).remove()}),$("#alert").dialog("open"))}function confirmation_dialog(t){$("#confirmation").length||(_.defaults(t,{width:380,height:380,buttons:{Yes:function(){_.isFunction(t.onConfirm)&&t.onConfirm(),$(this).dialog("close")},No:function(){$(this).dialog("close")}}}),$("body").append('<div id="confirmation"><div id="confirmation_content" style="width: '.concat(t.width,"px; height: ").concat(t.height,'px; "></div></div>')),$("#confirmation").dialog({autoOpen:!1,buttons:t.buttons,width:t.width+30,height:t.height+110,title:t.title}),t.text&&(t.text=t.text.replace(/\n/g,"<br>")),$("#confirmation_content").html(t.text),$("#confirmation").on("dialogclose",function(t,e){$(this).remove()}),$("#confirmation").dialog("open"))}function input2array(){var n={};return $("select").each(function(t,e){var i=$(e).prop("id");n[i]=$("#".concat(i)).val()}),$("input").each(function(t,e){var i=$(e).prop("id"),o=$(e).prop("type"),r=$(e).val();if(!i.match(/cb_list|autogen|^$/))switch(o){case"text":case"select":case"hidden":var a=$("#".concat(i)).select2("val");_.isArray(a)?n[i]=a:(r.match(/\|/)&&(r=r.replace(/ \|.*/,"")),n[i]=r);break;case"radio":$(e).prop("checked")&&(n[$(e).prop("name")]=r);break;case"checkbox":$(e).prop("checked")&&(n[i]=r)}}),resetCache&&(n.reset=1),n}function input2param(){var t=input2array(),i="";return $.each(t,function(t,e){i+="&".concat(t,"=").concat(e)}),i&&(i=i.substring(1)),i}function param2input(){if(!hasUrlParams())return"";var t=getUrlParams();return $.each(t,function(t,e){var i=$("#".concat(t));if(i)switch($(i).is("span")&&($("#".concat(t," [value='").concat(e,"']")).prop("checked",!0),$("#".concat(t)).buttonset("refresh")),$(i).prop("type")){case"text":$("#".concat(t)).val(e),e&&$("#".concat(t)).removeAttr("placeholder");break;case"hidden":$("#".concat(t)).val(e).change();break;case"checkbox":$("#".concat(t)).prop("checked",!0)}}),$.param(t)}function displayGrid(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";$("#".concat(t)).jqGrid("setGridParam",{datatype:"json",url:e}).trigger("reloadGrid"),i&&$("#".concat(t)).jqGrid("setCaption",i)}function HCLineOpt(e){var i={credits:{enabled:!1},chart:{type:"spline",renderTo:e.renderTo,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:e.title},subtitle:{text:e.subtitle},xAxis:[{categories:e.categories,title:{text:e.xAxisTitle}}],yAxis:{labels:{formatter:chart_yaxis_legend_formatter},title:{text:e.yAxisTitle}},tooltip:{shared:!0,valueDecimals:2,pointFormatter:e.defaultPointFormat?function(){return'<span style="color:{this.color}">●</span> '.concat(this.series.name,": <b>").concat(number_format(this.y,0),"</b><br/>")}:function(){return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(rp_unit_formatter(this.y),"</b><br/>")}},legend:{labelFormatter:function(){return'<div class="'.concat(this.name,'-arrow"></div>').concat(this.name,'<br/>\n                <span style="font-size:10px; color:#ababaa">').concat(rp_unit_formatter(this.options.total,2),"</span>")+(e.legendAvg?'<br/><span style="font-size:10px; color:#ababaa">'.concat(rp_unit_formatter(this.options.avg,2),"</span>"):"")}},series:[]},t=!0,o=!1,r=void 0;try{for(var a,n=e.seriesData.entries()[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var c=_slicedToArray(a.value,2),d=c[0],s=c[1],l=s.reduce(function(t,e){return t+e}),p=l/s.length;i.series.push({name:e.seriesName[d],data:s,total:l,avg:p})}}catch(t){o=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(o)throw r}}if(e.noLegendTotal&&delete i.legend.labelFormatter,e.defaultYAxisLegend&&delete i.yAxis.labels.formatter,e.avgRef){var u=e.avgRef.map(function(t){return{value:i.series[t].avg,label:{text:"Rata-rata ".concat(e.seriesName[t])},dashStyle:"ShortDash",color:"grey",width:1,zIndex:5}});i.yAxis.plotLines=u}return i}function buildChartJSLine(t){var e={type:"line",data:{labels:t.categories,datasets:[]},options:{title:{display:!0,text:t.title},tooltips:{mode:"x",callbacks:{label:function(t,e){return"".concat(e.datasets[t.datasetIndex].label,": ").concat(rp_unit_formatter(t.yLabel))},labelColor:function(t,e){var i=t.datasetIndex,o=e.data.datasets[i].borderColor;return{borderColor:o,backgroundColor:o}}}},legend:{position:"bottom",labels:{generateLabels:function(t){return t.data.datasets.map(function(t,e){return{text:"".concat(t.label," ").concat(rp_unit_formatter(t.total)),fillStyle:t.borderColor,lineWidth:"0.25px",strokeStyle:"#fff",datasetIndex:e}},this)}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:t.yAxisTitle},ticks:{callback:function(t,e,i){return rp_unit_formatter(t)}}}]}}},i=!0,o=!1,r=void 0;try{for(var a,n=t.seriesData.entries()[Symbol.iterator]();!(i=(a=n.next()).done);i=!0){var c=_slicedToArray(a.value,2),d=c[0],s=c[1];e.data.datasets.push({label:t.seriesName[d],data:s,total:s.reduce(function(t,e){return t+e})})}}catch(t){o=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return t.subtitle&&(e.options.title.text+=": ".concat(t.subtitle)),asignChartJSColor(e),e}function chart_yaxis_legend_formatter(){return 0==this.value?0:rp_unit_formatter(this.value,1)}function rp_unit_formatter(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=$.extend({},$.jgrid.formatter.number,{decimalPlaces:e});return 1e8<=Math.abs(t)?"".concat($.fmatter.NumberFormat(t/1e9,i),"M"):1e5<=Math.abs(t)?"".concat($.fmatter.NumberFormat(t/1e6,i),"J"):1e3<=Math.abs(t)?"".concat($.fmatter.NumberFormat(t/1e3,i),"R"):$.fmatter.NumberFormat(t,i)}var resetCache=0,ids="";function resetCacheFunc(){resetCache=1,$("#load").click(),resetCache=0}$(function(){$(document).bind("contextmenu",function(){return!1}),$("input[type=submit], input[type=button]").button(),$("input:text, input:password, input[type=email]").button().addClass("ui-textfield").off("mousedown"),$("select").select2({minimumResultsForSearch:-1}),$("#main-menu").smartmenus({mainMenuSubOffsetX:-1,subMenusSubOffsetX:10,subMenusSubOffsetY:0}),$("#help-dialog").length?$("#help").button({icons:{primary:"ui-icon-help"},text:!1,label:"Help"}).click(function(){$("#help-dialog").dialog("open")}):$("#help").remove(),$("#help-dialog").dialog({autoOpen:!1,title:"Keterangan",minWidth:"450",modal:!0,buttons:{Ok:function(){$(this).dialog("close")}}}),$(".button-set").buttonset(),$(".date-picker").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate",new Date).on("keydown",function(t){13==t.which&&($("#load").click(),$(this).blur())}),$("#reset-cache").button({icons:{primary:"ui-icon-refresh"},text:!1,label:"Refresh Data"}).click(function(){resetCacheFunc()}),$("#load").length||$("#reset-cache").hide()});